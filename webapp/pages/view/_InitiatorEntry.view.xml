<mvc:View
	controllerName="zwfuol.pages.controller.InitiatorEntry"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
	xmlns:t="sap.ui.table"
	xmlns:plugins="sap.ui.table.plugins"
	xmlns:l="sap.ui.layout"
	displayBlock="true"
	height="100%"
	busyIndicatorDelay="0"
>
	<l:VerticalLayout class="sapUiContentPadding">
		<t:Table
			id="initiatortbl"
			rows="{
				path: 'tblData>/InitiatorGroup',
				sorter: {
					path: 'Groupid'
				},
				filters : {
					path : 'xStatus/isDeleted',
					operator : 'EQ',
					value1 : false
				}
			}"
			selectionMode="MultiToggle"
			visibleRowCount="7"
			
			ariaLabelledBy="title"			
		>
		<t:dependents>
			<plugins:MultiSelectionPlugin
				limit="{path: 'config>/limit', type: 'sap.ui.model.type.Integer'}"
				enableNotification="true"
				showHeaderSelector="{config>/showHeaderSelector}"
				selectionMode="{config>/selectionMode}"
				selectionChange="onSelectionChange"/>
		</t:dependents>

			<t:extension>
				<OverflowToolbar style="Clear">
					<Title
						id="title"
						text="{i18n>Label.RegisterInitiator}"
					/>
					<ToolbarSpacer />
					<Button
						icon="sap-icon://group"
						textDirection="Inherit"
						type="Default"
						press="onManageGroup"
					/>
					<Button
						icon="sap-icon://save"
						textDirection="Inherit"
						type="Default"
						press="onSave"
						visible="{viewData>/showSave}"
					/>
					<Button
						icon="sap-icon://delete"
						textDirection="Inherit"
						type="Default"
						press="onDelete"
						visible="{viewData>/showDelete}"
					/>
					<Button
						icon="sap-icon://add"
						textDirection="Inherit"
						type="Default"
						press="onAdd"
					/>
				</OverflowToolbar>
			</t:extension>
			<t:columns>
				<t:Column
					width="16rem"
					filterProperty="Groupid"
				>
					<Label text="{i18n>Label.GroupID}" />
					<t:template>
						<Select
							forceSelection="false"
							selectedKey="{tblData>Groupid}"
							items="{
								path: '/InitGroupSet',
								sorter: {
									path: 'Groupid'
								}
							}"
							change="onChanged"
						>
							<c:Item
								key="{Groupid}"
								text="{Groupname}"
							/>
						</Select>
					</t:template>
				</t:Column>
				<t:Column
					width="10rem"
					filterProperty="Function"
				>
					<Label text="{i18n>Label.Property}" />
					<t:template>
						<Select
							forceSelection="false"
							selectedKey="{tblData>Function}"
							items="{
								path: '/ZFunctionSet',
								sorter: {
									path: 'Id'
								}
							}"
							change="onChanged"
						>
							<c:Item
								key="{Id}"
								text="{Function}"
							/>
						</Select>
					</t:template>
				</t:Column>
				<t:Column
					width="14rem"
					filterProperty="Department"
				>
					<Label text="{i18n>Label.Department}" />
					<t:template>
						<Input
							placeholder="{i18n>Select.Department}"
							showSuggestion="true"
							suggestionItems="{
								path: '/ZDepartmentSet',
								suspended: true
							}"
							suggest=".onDepartmentInputSuggest"
							value="{tblData>Department}"
							change="onChanged"
						>
							<suggestionItems>
								<c:ListItem text="{Id}" />
							</suggestionItems>
						</Input>
					</t:template>
				</t:Column>
				<t:Column
					width="10rem"
					filterProperty="Useragent"
				>
					<Label text="{i18n>Label.UserID}" />
					<t:template>
						<Input
							textFormatMode="ValueKey"
							placeholder="{i18n>Select.UserID}"
							showSuggestion="true"
							showTableSuggestionValueHelp="false"
							suggestionRows="{/UserVHSet}"
							value="{tblData>Useragent}"
							change="onChanged"
						>
							<suggestionColumns>
								<Column
									popinDisplay="Inline"
									demandPopin="true"
								>
									<Label text="{i18n>Label.UserID}" />
								</Column>
								<Column
									hAlign="Center"
									popinDisplay="Inline"
									demandPopin="true"
									minScreenWidth="Tablet"
								>
									<Label text="{i18n>Label.FirstName}" />
								</Column>
								<Column
									hAlign="Center"
									popinDisplay="Inline"
									minScreenWidth="Tablet"
								>
									<Label text="{i18n>Label.LastName}" />
								</Column>
								<Column
									hAlign="Center"
									popinDisplay="Inline"
									demandPopin="true"
								>
									<Label text="{i18n>Label.Property}" />
								</Column>
								<Column
									hAlign="Center"
									popinDisplay="Inline"
									demandPopin="true"
								>
									<Label text="{i18n>Label.Department}" />
								</Column>
							</suggestionColumns>
							<suggestionRows>
								<ColumnListItem>
									<Label text="{Bname}" />
									<Label text="{Fistname}" />
									<Label text="{Lastname}" />
									<Label text="{Function}" />
									<Label text="{Department}" />
								</ColumnListItem>
							</suggestionRows>
						</Input>
						<!-- <Input
							placeholder="{i18n>Select.InitiatorGroup}"
							maxLength="12"
							showSuggestion="true"
							suggestionItems=""
							value="{tblData>Useragent}"
						>
							<suggestionItems>
								<c:ListItem
									text="{Bname}"
									additionalText="{Department}"
								/>
							</suggestionItems>
						</Input> -->
					</t:template>
				</t:Column>
				<t:Column width="10rem">
					<Label text="{i18n>Label.ValidFrom}" />
					<t:template>
						<DatePicker value="{
							path: 'tblData>Validfrom',
							type: 'sap.ui.model.type.Date',
							formatOptions: {
								pattern: 'yyyy-MM-dd'
							}
							
						}"
						change="onChanged"
						/>
					</t:template>
				</t:Column>
				<t:Column
					width="10rem"
					filterProperty="Areasize"
				>
					<Label text="{i18n>Label.ValidTo}" />
					<t:template>
						<DatePicker value="{
							path: 'tblData>Validto',
							type: 'sap.ui.model.type.Date',
							formatOptions: {
								pattern: 'yyyy-MM-dd'
							}
						}" 
						change="onChanged"
						/>
					</t:template>
				</t:Column>
			</t:columns>
		</t:Table>
	</l:VerticalLayout>
</mvc:View>