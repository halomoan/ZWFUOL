<mvc:View
	controllerName="zwfuol.pages.controller.DetermineAgentEntry"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:c="sap.ui.core"
    xmlns:t="sap.ui.table"
	xmlns:plugins="sap.ui.table.plugins"
	xmlns:l="sap.ui.layout"
	displayBlock="true"
	height="100%"
	busyIndicatorDelay="0"
>
<Page showHeader="false">
    <l:VerticalLayout class="sapUiContentPadding">
        <t:Table
            id="detagenttbl"
            rows="{
                path: '/DetermineAgentSet'					
            }"
            visibleRowCount="18"
            ariaLabelledBy="title"
        >
            <t:dependents>
                <plugins:MultiSelectionPlugin
                    enableNotification="true"
                    showHeaderSelector="true"
                    selectionMode="MultiToggle"
                    selectionChange="onSelectionChange"
                />
            </t:dependents>
            <t:extension>
                <OverflowToolbar style="Clear">
                    <Title
                        id="title"
                        text="{i18n>Label.DetermineAgent}"
                    />
                    <ToolbarSpacer/>						
                    <Button
                        icon="sap-icon://save"
                        textDirection="Inherit"
                        type="Default"
                        press="onSave"
                        visible="{viewData>/showSave}"
                    />
                    <Button
                        icon="sap-icon://delete"
                        textDirection="Inherit"
                        type="Default"
                        press="onDelete"
                        visible="{viewData>/showDelete}"
                    />
                    <Button
                        icon="sap-icon://add"
                        textDirection="Inherit"
                        type="Default"
                        press="onAdd"
                    />
                </OverflowToolbar>
            </t:extension>
            <t:columns>
                <t:Column
                width="12rem"
                filterProperty="Groupid"
            >
                <Label text="{i18n>Label.RuleOrder}" />
                <t:template>						
                    <Select
								forceSelection="true"
								selectedKey="{Ruleorder}"
								items="{
									path: 'viewData>/RuleOrderSet',
									sorter: {
										path: 'Id'
									},
									templateShareable: true
								}"
								change="onChanged"
							>
								<c:Item
									key="{Id}"
									text="{Id}"
								/>
							</Select>
                </t:template>
            </t:Column>           
            </t:columns>
        </t:Table>
    </l:VerticalLayout>
    <footer>
        <Toolbar id="footer">
            <Button
                id="messagePopoverBtn"
                icon="sap-icon://alert"
                text="{= ${message>/}.length }"
                visible="{= ${message>/}.length > 0 }"
                type="Emphasized"
                press="onMessagePopoverPress"
            />
        </Toolbar>
    </footer>
</Page>
</mvc:View>